<!DOCTYPE HTML>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>Getting Started: Serving Web Content</title>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
</head>
<body>
<div>Добавить клиента</div>
<div>
    <form method="post" action="clients/addClient">
        <!--CSRF Token-->
        <input
                type="hidden"
                th:name="${_csrf.parameterName}"
                th:value="${_csrf.token}" />
        <div th:text="${message}">
            {
        </div>
        <input th:value="${buildingToAdd?.second_name}" type="text" name="second_name"
               placeholder="Введите фамилию">
        <input th:value="${buildingToAdd?.first_name}" type="text" name="first_name"
               placeholder="Введите имя">
        <input th:value="${buildingToAdd?.middle_name}" type="text" name="middle_name"
               placeholder="Введите отчество">
        <input th:value="${buildingToAdd?.phone}" type="text" name="phone"
               placeholder="Введите номер телефона">
        <input th:value="${buildingToAdd?.birth_date}" type="date" name="birth_date"
               placeholder="Введите дату рождения">
        <input th:value="${buildingToAdd?.passport}" type="text" name="passport"
               placeholder="Введите серию и номер паспорта">
        <button type="submit">Добавить</button>
    </form>
</div>
<div>Найти клиента</div>
<div>
    <form method="get" action="/clients/findClient">
        <!--CSRF Token-->
        <input
                type="hidden"
                th:name="${_csrf.parameterName}"
                th:value="${_csrf.token}" />

        <div th:text="${message}">
            {
        </div>
        <input th:value="${clientToFind?.second_name}" type="text" name="second_name"
               placeholder="Введите фамилию">
        <input th:value="${clientToFind?.first_name}" type="text" name="first_name"
               placeholder="Введите имя">
        <input th:value="${clientToFind?.middle_name}" type="text" name="middle_name"
               placeholder="Введите отчество">
        <input th:value="${clientToFind?.phone}" type="text" name="phone"
               placeholder="Введите название номер телефона">
        <input th:value="1900-01-01" type="date" name="dateStart"
               placeholder="Введите начало промежутка даты рождения">
        <input th:value="2023-01-01" type="date" name="dateEnd"
               placeholder="Введите конец промежутка даты рождения">
        <input th:value="${clientToFind?.passport}" type="text" name="passport"
               placeholder="Введите серию и номер паспорта">
        <button type="submit">Найти</button>
    </form>
    <a href="/clients">
        Сбросить фильтры
    </a>
</div>
<div>Список клиентов</div>

<div>
    <ul class="pagination">
        <li class="page-item disabled">
            <a class="page-link" href="#" tabindex="-1">Страницы</a>
        </li>

        <th:block th:each="p: ${body}">
            <div th:if="${page.getNumber()} == ${p - 1}">
                <li class="page-item active">
                    <a class="page-link" tabindex="-1" th:text="${p}">.</a>
                </li>
            </div>
            <div th:if="${page.getNumber()} != ${p - 1} and -1 != ${p}">
                <li class="page-item">
                    <a class="page-link" th:href="@{__${url}__page=__${p - 1}__}" tabindex="-1" th:text="${p}">.</a>
                </li>
            </div>
            <div th:if="-1 == ${p}">
                <li class="page-item disabled">
                    <a class="page-link" tabindex="-1">...</a>
                </li>
            </div>
        </th:block>
    </ul>
</div>

<ul>
    <th:block th:each="client: ${page?.content}">
        Фамилия: <li th:utext="${client?.second_name}">..</li>
        Имя: <li th:utext="${client?.first_name}">..</li>
        Отчество: <li th:utext="${client?.middle_name}">..</li>
        Телефон: <li th:utext="${client?.phone}">..</li>
        Дата рождения: <li th:utext="${client?.birth_date}">..</li>
        Серия и номер паспорта: <li th:utext="${client?.passport}">..</li>
        <div>
            <a href="/contracts" th:attrprepend="href='clients/'+${client?.client_id}">
                Контракты клиента
            </a>
            <a href="/editClient" th:attrprepend="href='clients/'+${client?.client_id}">
                Редактировать данные клиента
            </a>
            <a href="/deleteClient" th:attrprepend="href='clients/'+${client?.client_id}">
                Удалить данные о клиенте
            </a>
        </div>
        <p>-----------------------------------------</p>
    </th:block>
</ul>

<div>
    <ul class="pagination">
        <li class="page-item disabled">
            <a class="page-link" href="#" tabindex="-1">Страницы</a>
        </li>

        <th:block th:each="p: ${body}">
            <div th:if="${page.getNumber()} == ${p - 1}">
                <li class="page-item active">
                    <a class="page-link" tabindex="-1" th:text="${p}">.</a>
                </li>
            </div>
            <div th:if="${page.getNumber()} != ${p - 1} and -1 != ${p}">
                <li class="page-item">
                    <a class="page-link" th:href="@{__${url}__page=__${p - 1}__}" tabindex="-1" th:text="${p}">.</a>
                </li>
            </div>
            <div th:if="-1 == ${p}">
                <li class="page-item disabled">
                    <a class="page-link" tabindex="-1">...</a>
                </li>
            </div>
        </th:block>
    </ul>
</div>

</body>
</html>